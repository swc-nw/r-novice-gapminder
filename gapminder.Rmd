---
title: "Untitled"
author: "Robert McDonald"
date: "August 14, 2015"
output: html_document
---

This is undoubtedly overkill but it certainly illustrates the power of R and markdown!

```{r setup, echo=FALSE}
library(knitr)
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
```


```{r, results='asis', echo=FALSE}
for (i in sort(unique(gapminder$country))) {
    cat('\n\n')
    y <- gapminder[gapminder$country==i, ]
    cat('### ', i)
    cat('\n\n')
    cat('The growth rate in GDP per capita between 2002 and 2007 for ',
          i,' was  ')
    cat(format(log(y$gdpPercap[y$year==2007]/
            y$gdpPercap[y$year==2002])/5*100, digits=3),'%')
    plot(y$year, y$gdpPercap/1e03, ylim=c(0, 100),
         main='GDP per Capita and Life Expectancy',
         xlab='Year', ylab='GDPPC ($k) and Life expectancy (years)')
    points(y$year, y$lifeExp, pch=2)
    legend('topleft', legend=c('gdpPC', 'LE'), pch=c(1, 2))
}
```